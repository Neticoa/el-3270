<lib-drawer-container>

  <el3270-toolbar
    (connect)="ctrl.connect()"
    (disconnect)="ctrl.disconnect()"
    (openPrefs)=prefsDrawer.open()
    (showHelp)="ctrl.showHelp()"
    (showKeyboard)="ctrl.showKeyboard($event)"
    [layout]="ctrl.layout$ | async"
    [prefs]="ctrl.prefs$ | async">
  </el3270-toolbar>

  <lib-animated-router-outlet
    class="content">
  </lib-animated-router-outlet>

  <lib-drawer-panel
    #prefsDrawer
    position="right">

    <el3270-prefs
      [prefs]="ctrl.prefs$ | async"
      #prefs>
    </el3270-prefs>

  </lib-drawer-panel>

</lib-drawer-container>

<el3270-root-ctrl
  [prefsForm]="prefs.prefsForm.valueChanges | async"
  #ctrl>
</el3270-root-ctrl>
